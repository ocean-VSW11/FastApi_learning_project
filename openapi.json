{
  "openapi": "3.0.3",
  "info": {
    "title": "FastAPI学习项目",
    "description": "这是一个用于学习FastAPI框架的示例项目，包含了基础的CRUD操作、用户认证等功能",
    "version": "1.0.0"
  },
  "paths": {
    "/posts/": {
      "get": {
        "tags": [
          "文章管理"
        ],
        "summary": "Read Posts",
        "description": "获取文章列表\n\n参数:\n- skip: 跳过的记录数，用于分页\n- limit: 返回的最大记录数，用于分页\n- db: 数据库会话依赖",
        "operationId": "read_posts_posts__get",
        "parameters": [
          {
            "name": "skip",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "description": "从第几条开始，必须≥0",
              "default": 0,
              "title": "Skip"
            },
            "description": "从第几条开始，必须≥0"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "每页条数，1-100",
              "default": 100,
              "title": "Limit"
            },
            "description": "每页条数，1-100"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Post"
                  },
                  "title": "Response Read Posts Posts  Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "文章管理"
        ],
        "summary": "Create Post",
        "description": "创建新文章\n\n只有登录用户才能创建文章\n\n参数:\n- post: 文章创建数据\n- db: 数据库会话依赖\n- current_user: 当前登录用户\n\n返回:\n- 创建的文章信息\n\n错误:\n- 401: 未认证\n- 404: 分类不存在",
        "operationId": "create_post_posts__post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PostCreate",
                "examples": {
                  "simple": {
                    "summary": "不指定分类的文章",
                    "value": {
                      "title": "接口测试文章",
                      "content": "用于验证接口的文章内容",
                      "summary": "接口测试摘要",
                      "is_published": true
                    }
                  },
                  "withCategory": {
                    "summary": "指定分类的文章",
                    "value": {
                      "title": "带分类的文章",
                      "content": "含分类的文章内容",
                      "summary": "摘要",
                      "is_published": true,
                      "category_id": 1
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/posts/published/": {
      "get": {
        "tags": [
          "文章管理"
        ],
        "summary": "Read Published Posts",
        "description": "获取已发布的文章列表",
        "operationId": "read_published_posts_posts_published__get",
        "parameters": [
          {
            "name": "skip",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "description": "从第几条开始，必须≥0",
              "default": 0,
              "title": "Skip"
            },
            "description": "从第几条开始，必须≥0"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "每页条数，1-100",
              "default": 100,
              "title": "Limit"
            },
            "description": "每页条数，1-100"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Post"
                  },
                  "title": "Response Read Published Posts Posts Published  Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/posts/{post_id}": {
      "get": {
        "tags": [
          "文章管理"
        ],
        "summary": "Read Post",
        "description": "根据文章ID获取文章信息",
        "operationId": "read_post_posts__post_id__get",
        "parameters": [
          {
            "name": "post_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Post Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "文章管理"
        ],
        "summary": "Update Post",
        "description": "更新文章\n\n只有文章作者或超级用户才能更新文章\n\n参数:\n- post_id: 文章ID\n- post_update: 文章更新数据\n- db: 数据库会话依赖\n- current_user: 当前登录用户\n\n返回:\n- 更新后的文章信息\n\n错误:\n- 404: 文章不存在\n- 403: 权限不足",
        "operationId": "update_post_posts__post_id__put",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "post_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Post Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PostUpdate",
                "examples": {
                  "updateSummary": {
                    "summary": "更新摘要",
                    "value": {
                      "summary": "更新后的摘要"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "文章管理"
        ],
        "summary": "Delete Post",
        "description": "删除文章\n\n只有文章作者或超级用户才能删除文章\n\n参数:\n- post_id: 文章ID\n- db: 数据库会话依赖\n- current_user: 当前登录用户\n\n返回:\n- 删除成功的消息\n\n错误:\n- 404: 文章不存在\n- 403: 权限不足",
        "operationId": "delete_post_posts__post_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "post_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Post Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/posts/search/": {
      "get": {
        "tags": [
          "文章管理"
        ],
        "summary": "Search Posts",
        "description": "搜索文章",
        "operationId": "search_posts_posts_search__get",
        "parameters": [
          {
            "name": "q",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "description": "关键词，至少1个字符",
              "title": "Q"
            },
            "description": "关键词，至少1个字符"
          },
          {
            "name": "skip",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "description": "从第几条开始，必须≥0",
              "default": 0,
              "title": "Skip"
            },
            "description": "从第几条开始，必须≥0"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "每页条数，1-100",
              "default": 100,
              "title": "Limit"
            },
            "description": "每页条数，1-100"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Post"
                  },
                  "title": "Response Search Posts Posts Search  Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/categories/": {
      "get": {
        "tags": [
          "分类管理"
        ],
        "summary": "Read Categories",
        "description": "获取分类列表",
        "operationId": "read_categories_categories__get",
        "parameters": [
          {
            "name": "skip",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Skip"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 100,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Category"
                  },
                  "title": "Response Read Categories Categories  Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "分类管理"
        ],
        "summary": "Create Category",
        "description": "创建新分类\n\n只有超级用户才能创建分类\n\n参数:\n- category: 分类创建数据\n- db: 数据库会话依赖\n- current_user: 当前超级用户\n\n返回:\n- 创建的分类信息\n\n错误:\n- 400: 分类名称已存在\n- 403: 权限不足",
        "operationId": "create_category_categories__post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CategoryCreate",
                "examples": {
                  "basic": {
                    "summary": "创建分类示例",
                    "value": {
                      "name": "api_example_category",
                      "description": "用于验证",
                      "color": "#2288FF",
                      "is_active": true
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Category"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/categories/active/": {
      "get": {
        "tags": [
          "分类管理"
        ],
        "summary": "Read Active Categories",
        "description": "获取激活的分类列表",
        "operationId": "read_active_categories_categories_active__get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/Category"
                  },
                  "type": "array",
                  "title": "Response Read Active Categories Categories Active  Get"
                }
              }
            }
          }
        }
      }
    },
    "/categories/{category_id}": {
      "get": {
        "tags": [
          "分类管理"
        ],
        "summary": "Read Category",
        "description": "根据分类ID获取分类信息",
        "operationId": "read_category_categories__category_id__get",
        "parameters": [
          {
            "name": "category_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Category Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Category"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "分类管理"
        ],
        "summary": "Update Category",
        "description": "更新分类\n\n只有超级用户才能更新分类\n\n参数:\n- category_id: 分类ID\n- category_update: 分类更新数据\n- db: 数据库会话依赖\n- current_user: 当前超级用户\n\n返回:\n- 更新后的分类信息\n\n错误:\n- 404: 分类不存在\n- 400: 分类名称已被其他分类使用\n- 403: 权限不足",
        "operationId": "update_category_categories__category_id__put",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "category_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Category Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CategoryUpdate",
                "examples": {
                  "updateColor": {
                    "summary": "更新颜色",
                    "value": {
                      "color": "#007bff"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Category"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "分类管理"
        ],
        "summary": "Delete Category",
        "description": "删除分类\n\n只有超级用户才能删除分类\n\n参数:\n- category_id: 分类ID\n- db: 数据库会话依赖\n- current_user: 当前超级用户\n\n返回:\n- 删除成功的消息\n\n错误:\n- 404: 分类不存在\n- 400: 分类下还有文章，无法删除\n- 403: 权限不足",
        "operationId": "delete_category_categories__category_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "category_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Category Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/stats/": {
      "get": {
        "tags": [
          "统计信息"
        ],
        "summary": "Get Stats",
        "description": "获取系统统计信息",
        "operationId": "get_stats_stats__get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/": {
      "get": {
        "tags": [
          "根路径"
        ],
        "summary": "Read Root",
        "description": "根路径端点 - 返回欢迎信息\n\n这是API的入口点，通常用于健康检查或显示基本信息\ntags参数用于在API文档中对端点进行分组",
        "operationId": "read_root__get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/health": {
      "get": {
        "tags": [
          "系统"
        ],
        "summary": "Health Check",
        "description": "健康检查端点\n\n用于检查应用程序是否正常运行\n在生产环境中，这个端点通常被负载均衡器或监控系统调用",
        "operationId": "health_check_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/auth/login": {
      "post": {
        "tags": [
          "认证"
        ],
        "summary": "Login",
        "description": "用户登录端点\n\n这个端点允许用户使用用户名/邮箱和密码登录\n成功登录后返回JWT访问令牌\n\n参数:\n- user_credentials: 包含用户名/邮箱和密码的登录信息\n- db: 数据库会话依赖\n\n返回:\n- 包含访问令牌、令牌类型、过期时间和用户信息的字典\n\n错误:\n- 401: 用户名/邮箱或密码错误",
        "operationId": "login_auth_login_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserLogin"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "type": "object",
                  "title": "Response Login Auth Login Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/auth/me": {
      "get": {
        "tags": [
          "认证"
        ],
        "summary": "Get Current User Info",
        "description": "获取当前用户信息\n\n这个端点返回当前登录用户的详细信息\n需要有效的JWT令牌\n\n参数:\n- current_user: 当前登录用户（通过JWT令牌验证）\n\n返回:\n- 当前用户的详细信息\n\n错误:\n- 401: 令牌无效或已过期\n- 400: 用户账户已被禁用",
        "operationId": "get_current_user_info_auth_me_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/User"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/auth/refresh": {
      "post": {
        "tags": [
          "认证"
        ],
        "summary": "Refresh Token",
        "description": "刷新访问令牌\n\n这个端点允许用户使用有效的令牌获取新的令牌\n用于延长用户的登录状态\n\n参数:\n- current_user: 当前登录用户（通过JWT令牌验证）\n\n返回:\n- 新的访问令牌信息\n\n错误:\n- 401: 令牌无效或已过期\n- 400: 用户账户已被禁用",
        "operationId": "refresh_token_auth_refresh_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "type": "object",
                  "title": "Response Refresh Token Auth Refresh Post"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/users/": {
      "get": {
        "tags": [
          "用户管理"
        ],
        "summary": "Read Users",
        "description": "获取用户列表\n\n参数:\n- skip: 跳过的记录数，用于分页\n- limit: 返回的最大记录数，用于分页\n- db: 数据库会话依赖\n\nresponse_model参数指定响应数据的模型，FastAPI会自动进行数据验证和文档生成",
        "operationId": "read_users_users__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "skip",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Skip"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 100,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/User"
                  },
                  "title": "Response Read Users Users  Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "用户管理"
        ],
        "summary": "Create User",
        "description": "创建新用户\n\n只有超级用户才能创建新用户\n\n参数:\n- user: 用户创建数据\n- db: 数据库会话依赖\n- current_user: 当前超级用户\n\n返回:\n- 创建的用户信息\n\n错误:\n- 400: 用户名或邮箱已存在\n- 401: 未认证\n- 403: 权限不足",
        "operationId": "create_user_users__post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserCreate",
                "examples": {
                  "basic": {
                    "summary": "创建用户示例",
                    "value": {
                      "username": "dev_user_example",
                      "email": "dev_user_example@example.com",
                      "full_name": "接口测试用户",
                      "password": "user123"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/User"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/users/{user_id}": {
      "get": {
        "tags": [
          "用户管理"
        ],
        "summary": "Read User",
        "description": "根据用户ID获取用户信息\n\n参数:\n- user_id: 用户ID，从URL路径中获取\n- db: 数据库会话依赖\n\n如果用户不存在，会抛出404错误",
        "operationId": "read_user_users__user_id__get",
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "User Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/User"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "用户管理"
        ],
        "summary": "Update User",
        "description": "更新用户信息\n\n用户只能更新自己的信息，超级用户可以更新任何用户的信息\n\n参数:\n- user_id: 要更新的用户ID\n- user_update: 用户更新数据\n- db: 数据库会话依赖\n- current_user: 当前登录用户\n\n返回:\n- 更新后的用户信息\n\n错误:\n- 404: 用户不存在\n- 403: 权限不足\n- 400: 用户名或邮箱已被其他用户使用",
        "operationId": "update_user_users__user_id__put",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "User Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserUpdate",
                "examples": {
                  "updateFullName": {
                    "summary": "更新用户姓名",
                    "value": {
                      "full_name": "更新后的名字"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/User"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "用户管理"
        ],
        "summary": "Delete User",
        "description": "删除用户\n\n只有超级用户才能删除用户\n\n参数:\n- user_id: 要删除的用户ID\n- db: 数据库会话依赖\n- current_user: 当前超级用户\n\n返回:\n- 删除成功的消息\n\n错误:\n- 404: 用户不存在\n- 403: 权限不足",
        "operationId": "delete_user_users__user_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "User Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/users/search/": {
      "get": {
        "tags": [
          "用户管理"
        ],
        "summary": "Search Users",
        "description": "搜索用户\n\n参数:\n- q: 搜索查询字符串，会在用户名、全名和邮箱中搜索\n- skip: 跳过的记录数，用于分页\n- limit: 返回的最大记录数，用于分页\n- db: 数据库会话依赖",
        "operationId": "search_users_users_search__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "q",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Q"
            }
          },
          {
            "name": "skip",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Skip"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 100,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/User"
                  },
                  "title": "Response Search Users Users Search  Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "Category": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Name",
            "description": "分类名称"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "分类描述"
          },
          "color": {
            "type": "string",
            "pattern": "^#[0-9A-Fa-f]{6}$",
            "title": "Color",
            "description": "分类颜色（十六进制）",
            "default": "#007bff"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "description": "是否激活",
            "default": true
          },
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          }
        },
        "type": "object",
        "required": [
          "name",
          "id",
          "created_at"
        ],
        "title": "Category",
        "description": "分类响应模式",
        "examples": [
          {
            "color": "#2288FF",
            "created_at": "2025-11-25T09:50:57",
            "description": "用于验证",
            "id": 6,
            "is_active": true,
            "name": "测试分类_示例"
          }
        ]
      },
      "CategoryCreate": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Name",
            "description": "分类名称"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "分类描述"
          },
          "color": {
            "type": "string",
            "pattern": "^#[0-9A-Fa-f]{6}$",
            "title": "Color",
            "description": "分类颜色（十六进制）",
            "default": "#007bff"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "description": "是否激活",
            "default": true
          }
        },
        "type": "object",
        "required": [
          "name"
        ],
        "title": "CategoryCreate",
        "description": "分类创建模式",
        "examples": [
          {
            "color": "#2288FF",
            "description": "用于验证",
            "is_active": true,
            "name": "测试分类_示例"
          }
        ]
      },
      "CategoryUpdate": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "color": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^#[0-9A-Fa-f]{6}$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Color"
          },
          "is_active": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Active"
          }
        },
        "type": "object",
        "title": "CategoryUpdate",
        "description": "分类更新模式",
        "examples": [
          {
            "color": "#007bff"
          }
        ]
      },
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "type": "array",
            "title": "Detail"
          }
        },
        "type": "object",
        "title": "HTTPValidationError"
      },
      "Message": {
        "properties": {
          "message": {
            "type": "string",
            "title": "Message",
            "description": "响应消息"
          }
        },
        "type": "object",
        "required": [
          "message"
        ],
        "title": "Message",
        "description": "通用消息响应模式",
        "examples": [
          {
            "message": "操作成功"
          }
        ]
      },
      "Post": {
        "properties": {
          "title": {
            "type": "string",
            "maxLength": 200,
            "minLength": 1,
            "title": "Title",
            "description": "文章标题"
          },
          "content": {
            "type": "string",
            "minLength": 1,
            "title": "Content",
            "description": "文章内容"
          },
          "summary": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Summary",
            "description": "文章摘要"
          },
          "is_published": {
            "type": "boolean",
            "title": "Is Published",
            "description": "是否发布",
            "default": false
          },
          "category_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Category Id",
            "description": "分类ID"
          },
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "author_id": {
            "type": "integer",
            "title": "Author Id"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "title",
          "content",
          "id",
          "author_id",
          "created_at",
          "updated_at"
        ],
        "title": "Post",
        "description": "文章响应模式",
        "examples": [
          {
            "author_id": 1,
            "category_id": 1,
            "content": "用于验证接口的文章内容",
            "created_at": "2025-11-25T09:50:57",
            "id": 8,
            "is_published": true,
            "summary": "接口测试摘要",
            "title": "接口测试文章",
            "updated_at": "2025-11-25T09:50:57"
          }
        ]
      },
      "PostCreate": {
        "properties": {
          "title": {
            "type": "string",
            "maxLength": 200,
            "minLength": 1,
            "title": "Title",
            "description": "文章标题"
          },
          "content": {
            "type": "string",
            "minLength": 1,
            "title": "Content",
            "description": "文章内容"
          },
          "summary": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Summary",
            "description": "文章摘要"
          },
          "is_published": {
            "type": "boolean",
            "title": "Is Published",
            "description": "是否发布",
            "default": false
          },
          "category_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Category Id",
            "description": "分类ID"
          }
        },
        "type": "object",
        "required": [
          "title",
          "content"
        ],
        "title": "PostCreate",
        "description": "文章创建模式",
        "examples": [
          {
            "content": "用于验证接口的文章内容",
            "is_published": true,
            "summary": "接口测试摘要",
            "title": "接口测试文章"
          },
          {
            "category_id": 1,
            "content": "含分类的文章内容",
            "is_published": true,
            "summary": "摘要",
            "title": "带分类的文章"
          }
        ]
      },
      "PostUpdate": {
        "properties": {
          "title": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 200,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Title"
          },
          "content": {
            "anyOf": [
              {
                "type": "string",
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Content"
          },
          "summary": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Summary"
          },
          "is_published": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Published"
          },
          "category_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Category Id"
          }
        },
        "type": "object",
        "title": "PostUpdate",
        "description": "文章更新模式",
        "examples": [
          {
            "summary": "更新后的摘要"
          }
        ]
      },
      "User": {
        "properties": {
          "username": {
            "type": "string",
            "maxLength": 50,
            "minLength": 3,
            "title": "Username",
            "description": "用户名，3-50个字符"
          },
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email",
            "description": "邮箱地址"
          },
          "full_name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Full Name",
            "description": "全名，可选"
          },
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active"
          },
          "is_superuser": {
            "type": "boolean",
            "title": "Is Superuser"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "username",
          "email",
          "id",
          "is_active",
          "is_superuser",
          "created_at",
          "updated_at"
        ],
        "title": "User",
        "description": "用户响应模式\n\n用于API响应的用户数据结构\n包含数据库中的所有用户信息（除了密码）"
      },
      "UserCreate": {
        "properties": {
          "username": {
            "type": "string",
            "maxLength": 50,
            "minLength": 3,
            "title": "Username",
            "description": "用户名，3-50个字符"
          },
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email",
            "description": "邮箱地址"
          },
          "full_name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Full Name",
            "description": "全名，可选"
          },
          "password": {
            "type": "string",
            "minLength": 6,
            "title": "Password",
            "description": "密码，至少6个字符"
          }
        },
        "type": "object",
        "required": [
          "username",
          "email",
          "password"
        ],
        "title": "UserCreate",
        "description": "用户创建模式\n\n用于创建新用户时的请求数据验证\n继承UserBase并添加密码字段",
        "examples": [
          {
            "email": "dev_user_001@example.com",
            "full_name": "接口测试用户",
            "password": "user123",
            "username": "dev_user_001"
          }
        ]
      },
      "UserLogin": {
        "properties": {
          "username": {
            "type": "string",
            "title": "Username",
            "description": "用户名或邮箱"
          },
          "password": {
            "type": "string",
            "title": "Password",
            "description": "密码"
          }
        },
        "type": "object",
        "required": [
          "username",
          "password"
        ],
        "title": "UserLogin",
        "description": "用户登录模式",
        "examples": [
          {
            "password": "admin123",
            "username": "admin"
          }
        ]
      },
      "UserUpdate": {
        "properties": {
          "username": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50,
                "minLength": 3
              },
              {
                "type": "null"
              }
            ],
            "title": "Username"
          },
          "email": {
            "anyOf": [
              {
                "type": "string",
                "format": "email"
              },
              {
                "type": "null"
              }
            ],
            "title": "Email"
          },
          "full_name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Full Name"
          },
          "is_active": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Active"
          }
        },
        "type": "object",
        "title": "UserUpdate",
        "description": "用户更新模式\n\n用于更新用户信息时的请求数据验证\n所有字段都是可选的，只更新提供的字段",
        "examples": [
          {
            "full_name": "更新后的名字"
          }
        ]
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "type": "array",
            "title": "Location"
          },
          "msg": {
            "type": "string",
            "title": "Message"
          },
          "type": {
            "type": "string",
            "title": "Error Type"
          }
        },
        "type": "object",
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationError"
      }
    },
    "securitySchemes": {
      "HTTPBearer": {
        "type": "http",
        "scheme": "bearer"
      }
    }
  }
}